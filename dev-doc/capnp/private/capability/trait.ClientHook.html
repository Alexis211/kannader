<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ClientHook` trait in crate `capnp`."><meta name="keywords" content="rust, rustlang, rust-lang, ClientHook"><title>ClientHook in capnp::private::capability - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><script defer src="../../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../capnp/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../capnp/index.html"><div class="logo-container"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">ClientHook</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.add_ref">add_ref</a></li><li><a href="#tymethod.call">call</a></li><li><a href="#tymethod.get_brand">get_brand</a></li><li><a href="#tymethod.get_ptr">get_ptr</a></li><li><a href="#tymethod.get_resolved">get_resolved</a></li><li><a href="#tymethod.new_call">new_call</a></li><li><a href="#tymethod.when_more_resolved">when_more_resolved</a></li><li><a href="#tymethod.when_resolved">when_resolved</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In capnp::private::capability</a></h2><div id="sidebar-vars" data-name="ClientHook" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../capnp/index.html"><img class="rust-logo" src="../../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../../index.html">capnp</a>::<wbr><a href="../index.html">private</a>::<wbr><a href="index.html">capability</a>::<wbr><a class="trait" href="#">ClientHook</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#41-71">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait ClientHook {
    fn <a href="#tymethod.add_ref" class="fnname">add_ref</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.new_call" class="fnname">new_call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interface_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u16.html">u16</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_hint: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.MessageSize.html" title="struct capnp::MessageSize">MessageSize</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../../capability/struct.Request.html" title="struct capnp::capability::Request">Request</a>&lt;<a class="struct" href="../../any_pointer/struct.Owned.html" title="struct capnp::any_pointer::Owned">Owned</a>, <a class="struct" href="../../any_pointer/struct.Owned.html" title="struct capnp::any_pointer::Owned">Owned</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.call" class="fnname">call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interface_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u16.html">u16</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ParamsHook.html" title="trait capnp::private::capability::ParamsHook">ParamsHook</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ResultsHook.html" title="trait capnp::private::capability::ResultsHook">ResultsHook</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;T, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, E&gt;;</span></code></span></span></span></span>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_brand" class="fnname">get_brand</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_ptr" class="fnname">get_ptr</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_resolved" class="fnname">get_resolved</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.when_more_resolved" class="fnname">when_more_resolved</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.when_resolved" class="fnname">when_resolved</a>(&amp;self) -&gt; <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;T, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, E&gt;;</span></code></span></span></span></span>;
}</code></pre></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><div id="tymethod.add_ref" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#42">source</a></div><h4 class="code-header">fn <a href="#tymethod.add_ref" class="fnname">add_ref</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;</h4></div><div id="tymethod.new_call" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#43-47">source</a></div><h4 class="code-header">fn <a href="#tymethod.new_call" class="fnname">new_call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;interface_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;method_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u16.html">u16</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;size_hint: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.MessageSize.html" title="struct capnp::MessageSize">MessageSize</a>&gt;<br>) -&gt; <a class="struct" href="../../capability/struct.Request.html" title="struct capnp::capability::Request">Request</a>&lt;<a class="struct" href="../../any_pointer/struct.Owned.html" title="struct capnp::any_pointer::Owned">Owned</a>, <a class="struct" href="../../any_pointer/struct.Owned.html" title="struct capnp::any_pointer::Owned">Owned</a>&gt;</h4></div><div id="tymethod.call" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#49-51">source</a></div><h4 class="code-header">fn <a href="#tymethod.call" class="fnname">call</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;interface_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;method_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u16.html">u16</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ParamsHook.html" title="trait capnp::private::capability::ParamsHook">ParamsHook</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;results: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ResultsHook.html" title="trait capnp::private::capability::ResultsHook">ResultsHook</a>&gt;<br>) -&gt; <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;T, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, E&gt;;</span></code></span></span></span></span></h4></div><div id="tymethod.get_brand" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#53">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_brand" class="fnname">get_brand</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></div><div id="tymethod.get_ptr" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#54">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_ptr" class="fnname">get_ptr</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></div><details class="rustdoc-toggle" open><summary><div id="tymethod.get_resolved" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#60">source</a></div><h4 class="code-header">fn <a href="#tymethod.get_resolved" class="fnname">get_resolved</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>If this ClientHook is a promise that has already resolved, returns the inner, resolved version
of the capability.  The caller may permanently replace this client with the resolved one if
desired.  Returns null if the client isn’t a promise or hasn’t resolved yet – use
<code>whenMoreResolved()</code> to distinguish between them.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.when_more_resolved" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#67">source</a></div><h4 class="code-header">fn <a href="#tymethod.when_more_resolved" class="fnname">when_more_resolved</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.ClientHook.html" title="trait capnp::private::capability::ClientHook">ClientHook</a>&gt;, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>If this client is a settled reference (not a promise), return nullptr.  Otherwise, return a
promise that eventually resolves to a new client that is closer to being the final, settled
client (i.e. the value eventually returned by <code>getResolved()</code>).  Calling this repeatedly
should eventually produce a settled client.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.when_resolved" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../src/capnp/private/capability.rs.html#70">source</a></div><h4 class="code-header">fn <a href="#tymethod.when_resolved" class="fnname">when_resolved</a>(&amp;self) -&gt; <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="../../struct.Error.html" title="struct capnp::Error">Error</a>&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;T, E&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="../../capability/struct.Promise.html" title="struct capnp::capability::Promise">Promise</a>&lt;T, E&gt;</span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, E&gt;;</span></code></span></span></span></span></h4></div></summary><div class="docblock"><p>Repeatedly calls whenMoreResolved() until it returns nullptr.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../../../implementors/capnp/private/capability/trait.ClientHook.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="capnp" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (285fa7ecd 2022-03-14)" ></div>
</body></html>